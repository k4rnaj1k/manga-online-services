from PIL import Image
import requests

images_data = [{"createdAt":1719511923,"id":317108,"chapterId":23397,"imgUrl":"f5bdff1f-53e3-4103-8984-7e685a9acd43","order":0},{"createdAt":1719511923,"id":317109,"chapterId":23397,"imgUrl":"9307a53e-3619-4a56-8be1-b4ab6c1d9a04","order":0},{"createdAt":1719511923,"id":317110,"chapterId":23397,"imgUrl":"30ae3549-293b-40f2-b7ff-c9b27e7329ac","order":0},{"createdAt":1719511923,"id":317111,"chapterId":23397,"imgUrl":"c5949291-b9c0-4d83-9e89-c06dc345b6a5","order":0},{"createdAt":1719511923,"id":317112,"chapterId":23397,"imgUrl":"aa2b23b4-db5f-400e-bcba-5cbf8c34d65c","order":0},{"createdAt":1719511923,"id":317113,"chapterId":23397,"imgUrl":"b83e3864-41a0-4bef-b765-2bf70fb3e45c","order":0},{"createdAt":1719511923,"id":317114,"chapterId":23397,"imgUrl":"ff3b8e90-58c5-41a4-afc6-a5c891e5c183","order":0},{"createdAt":1719511923,"id":317115,"chapterId":23397,"imgUrl":"2ffd8f5a-1a1d-4d00-8914-ebd9d16c424b","order":0},{"createdAt":1719511923,"id":317116,"chapterId":23397,"imgUrl":"cb14d878-3433-4319-99fb-999df74e9aed","order":0},{"createdAt":1719511923,"id":317117,"chapterId":23397,"imgUrl":"b9e5553b-0343-45f9-8707-a109fe4fb94f","order":0},{"createdAt":1719511923,"id":317118,"chapterId":23397,"imgUrl":"b76efb42-9db4-44f2-9c72-269633457948","order":0},{"createdAt":1719511923,"id":317119,"chapterId":23397,"imgUrl":"02bc6e9d-fb18-4041-90ec-d229fd7476e4","order":0},{"createdAt":1719511923,"id":317120,"chapterId":23397,"imgUrl":"35f40bf4-5342-49d6-92cc-b186ae60e55a","order":0},{"createdAt":1719511923,"id":317121,"chapterId":23397,"imgUrl":"4b4eea59-52e0-47d6-8405-bf95f3eaae75","order":0},{"createdAt":1719511923,"id":317122,"chapterId":23397,"imgUrl":"3d6755e3-16e5-4bf7-a367-dc1598d0004a","order":0},{"createdAt":1719511923,"id":317123,"chapterId":23397,"imgUrl":"c80ce89a-0673-4d57-84a0-ffcaa912e83f","order":0},{"createdAt":1719511923,"id":317124,"chapterId":23397,"imgUrl":"81321039-dcf7-45c1-90a7-36be10ea9db1","order":0},{"createdAt":1719511923,"id":317125,"chapterId":23397,"imgUrl":"f26fbe70-03af-4a8a-8eab-9f0d7717e094","order":0},{"createdAt":1719511923,"id":317126,"chapterId":23397,"imgUrl":"ec01e84b-0a99-446d-9ff6-f6cc884c5ce6","order":0},{"createdAt":1719511923,"id":317127,"chapterId":23397,"imgUrl":"caeb4b26-b0cb-494f-ad82-5bef08c4ec56","order":0},{"createdAt":1719511923,"id":317128,"chapterId":23397,"imgUrl":"ef3b2338-bbb0-446b-a6ba-13fc70909d32","order":0},{"createdAt":1719511923,"id":317129,"chapterId":23397,"imgUrl":"c4d6523b-0d81-4692-bbae-3768a200606c","order":0},{"createdAt":1719511923,"id":317130,"chapterId":23397,"imgUrl":"5597c0ad-866d-44c3-ae8c-c1e9f8939147","order":0},{"createdAt":1719511923,"id":317131,"chapterId":23397,"imgUrl":"6105e9fc-4763-4494-b35c-ee1dec5799f9","order":0},{"createdAt":1719511923,"id":317132,"chapterId":23397,"imgUrl":"8e789eaa-c724-46e9-8733-8c511d531358","order":0},{"createdAt":1719511923,"id":317133,"chapterId":23397,"imgUrl":"1e2c3440-e435-4514-9e82-784fec04163b","order":0},{"createdAt":1719511923,"id":317134,"chapterId":23397,"imgUrl":"779d1c87-0dff-41e5-bdce-d793182a1536","order":0},{"createdAt":1719511923,"id":317135,"chapterId":23397,"imgUrl":"3764f26b-ab30-4704-a525-7ebfbaef1357","order":0},{"createdAt":1719511923,"id":317136,"chapterId":23397,"imgUrl":"d6607dd0-dbfc-477f-888b-2ae41a09b3b7","order":0},{"createdAt":1719511923,"id":317137,"chapterId":23397,"imgUrl":"f3e88912-d731-4f9b-b5e2-9d7873802e1f","order":0},{"createdAt":1719511923,"id":317138,"chapterId":23397,"imgUrl":"06a16764-e236-4085-8963-b8e0a3eeddb4","order":0},{"createdAt":1719511923,"id":317139,"chapterId":23397,"imgUrl":"0d78470d-1705-4c07-a00f-ab713decee06","order":0},{"createdAt":1719511923,"id":317140,"chapterId":23397,"imgUrl":"0850f9e1-1852-4df8-9d86-b804e94f44de","order":0},{"createdAt":1719511923,"id":317141,"chapterId":23397,"imgUrl":"6a3b81e0-266f-4b71-b1a2-d5f2aa64e2dc","order":0},{"createdAt":1719511923,"id":317142,"chapterId":23397,"imgUrl":"0f02d537-0ec5-4429-9ede-682417cf7ba9","order":0},{"createdAt":1719511923,"id":317143,"chapterId":23397,"imgUrl":"f15b8437-fbc7-46d5-aa8f-fd31e9584527","order":0},{"createdAt":1719511923,"id":317144,"chapterId":23397,"imgUrl":"3fd21d87-cec7-45e0-beca-e650f873fe3d","order":0},{"createdAt":1719511923,"id":317145,"chapterId":23397,"imgUrl":"f3327f6e-c58c-47f8-bc37-e3b5ec8cc631","order":0},{"createdAt":1719511923,"id":317146,"chapterId":23397,"imgUrl":"2bba7489-31a0-47a9-88a6-5b873771e8f9","order":0},{"createdAt":1719511923,"id":317147,"chapterId":23397,"imgUrl":"a84fb04f-0cde-406b-98f3-1661f93ad3a9","order":0},{"createdAt":1719511923,"id":317148,"chapterId":23397,"imgUrl":"e1fcaf89-3457-4e27-a4f2-34c5f8ab7ab1","order":0},{"createdAt":1719511923,"id":317149,"chapterId":23397,"imgUrl":"22ed6411-59d1-4d6f-9c09-3250398d6201","order":0},{"createdAt":1719511923,"id":317150,"chapterId":23397,"imgUrl":"fa2ab91c-bfa9-4071-856d-eb9d904299f8","order":0},{"createdAt":1719511923,"id":317151,"chapterId":23397,"imgUrl":"c0bfd8f1-c22a-410c-b42f-062881d37ebe","order":0},{"createdAt":1719511923,"id":317152,"chapterId":23397,"imgUrl":"a7525195-e5c4-4d71-a192-b2ed5a78919b","order":0},{"createdAt":1719511923,"id":317153,"chapterId":23397,"imgUrl":"931f4403-a24a-4cfb-b85c-36d8db95537c","order":0},{"createdAt":1719511923,"id":317154,"chapterId":23397,"imgUrl":"ff90d684-b98a-4ccc-aa14-8efa3df5c269","order":0},{"createdAt":1719511923,"id":317155,"chapterId":23397,"imgUrl":"c1f02aaa-f61b-434e-832c-6faf6a5d0f4e","order":0},{"createdAt":1719511923,"id":317156,"chapterId":23397,"imgUrl":"c95df043-b459-4d88-bd9f-61dd980db9e2","order":0},{"createdAt":1719511923,"id":317157,"chapterId":23397,"imgUrl":"322f2d57-0dcd-4a7c-b1fd-9021a399fa21","order":0},{"createdAt":1719511923,"id":317158,"chapterId":23397,"imgUrl":"32830d63-b6a2-4830-b41c-61eb1b78a29d","order":0},{"createdAt":1719511923,"id":317159,"chapterId":23397,"imgUrl":"f89fb1c3-7f45-41b7-9ded-8c4b7a5474c7","order":0},{"createdAt":1719511923,"id":317160,"chapterId":23397,"imgUrl":"6e50e8a3-4545-4b70-97c3-a6fad5a55049","order":0},{"createdAt":1719511923,"id":317161,"chapterId":23397,"imgUrl":"230f8067-d658-486e-a197-cb532ad690b4","order":0},{"createdAt":1719511923,"id":317162,"chapterId":23397,"imgUrl":"58c0d052-f355-4293-aef2-e5d3e2c59d93","order":0},{"createdAt":1719511923,"id":317163,"chapterId":23397,"imgUrl":"b2fd2f5a-92e7-419b-b5fc-5d6f35cd3e97","order":0},{"createdAt":1719511923,"id":317164,"chapterId":23397,"imgUrl":"99cfcb04-3540-4bb6-8191-93cc32983f8c","order":0},{"createdAt":1719511923,"id":317165,"chapterId":23397,"imgUrl":"0bf14ca0-837c-41d0-9ec5-5fd757f636c9","order":0},{"createdAt":1719511923,"id":317166,"chapterId":23397,"imgUrl":"0d5a3bff-d458-4bf9-af4a-ad16d049812e","order":0},{"createdAt":1719511923,"id":317167,"chapterId":23397,"imgUrl":"6ccfd74e-22e5-4506-b0f1-c20479d723c4","order":0},{"createdAt":1719511923,"id":317168,"chapterId":23397,"imgUrl":"49cf5b98-ac5f-4afc-83d5-e3bbbe8c3d46","order":0},{"createdAt":1719511923,"id":317169,"chapterId":23397,"imgUrl":"8fcea3d8-c37e-4290-b27f-04d539042f25","order":0},{"createdAt":1719511923,"id":317170,"chapterId":23397,"imgUrl":"6ea32352-997d-469c-a0b5-07699556325c","order":0},{"createdAt":1719511923,"id":317171,"chapterId":23397,"imgUrl":"03275a9e-845a-41ea-b6e0-c5c7dd7e882e","order":0},{"createdAt":1719511923,"id":317172,"chapterId":23397,"imgUrl":"e6ccabca-4a07-4bfd-b69f-9a6d82dab12d","order":0},{"createdAt":1719511923,"id":317173,"chapterId":23397,"imgUrl":"9d628dd1-b1c7-45a3-a724-e39476f01ddf","order":0},{"createdAt":1719511923,"id":317174,"chapterId":23397,"imgUrl":"938308fa-d916-4b19-af40-7bf6557a5846","order":0},{"createdAt":1719511923,"id":317175,"chapterId":23397,"imgUrl":"4ea7aed7-9044-443f-b14a-a717e06f6129","order":0},{"createdAt":1719511923,"id":317176,"chapterId":23397,"imgUrl":"83388783-78c8-45e9-8b5b-935e2eb60aeb","order":0},{"createdAt":1719511923,"id":317177,"chapterId":23397,"imgUrl":"d2079ae8-83dd-4ef2-9f5e-c8e894f6a97c","order":0},{"createdAt":1719511923,"id":317178,"chapterId":23397,"imgUrl":"5e8df244-af26-49c8-a42d-bbd0c87852a5","order":0},{"createdAt":1719511923,"id":317179,"chapterId":23397,"imgUrl":"83555d52-4c3a-4d3d-9159-9ca54abf081a","order":0},{"createdAt":1719511923,"id":317180,"chapterId":23397,"imgUrl":"b7aec71a-f14d-4457-a918-0c5b2f96ac41","order":0},{"createdAt":1719511923,"id":317181,"chapterId":23397,"imgUrl":"d4bfec5a-8a0e-4c09-8acc-1fdcd685c27c","order":0},{"createdAt":1719511923,"id":317182,"chapterId":23397,"imgUrl":"265a3d26-1cb2-4618-b576-223536aa0e58","order":0},{"createdAt":1719511923,"id":317183,"chapterId":23397,"imgUrl":"e536d85f-e0bc-4c90-b1ff-1a5c837070c3","order":0},{"createdAt":1719511923,"id":317184,"chapterId":23397,"imgUrl":"fe8d929a-967d-4f30-92a1-5b1e57ee0339","order":0},{"createdAt":1719511923,"id":317185,"chapterId":23397,"imgUrl":"b940d0aa-c4dc-433a-b20d-a7ae7b47caf3","order":0},{"createdAt":1719511923,"id":317047,"chapterId":23397,"imgUrl":"ed2c2f10-23d9-4817-809f-fb79854a605b","order":0},{"createdAt":1719511923,"id":317048,"chapterId":23397,"imgUrl":"80e79ec5-d1a7-4e0e-af83-43fc97f59090","order":0},{"createdAt":1719511923,"id":317049,"chapterId":23397,"imgUrl":"818677bc-be3b-4ecd-858f-adec601b75b1","order":0},{"createdAt":1719511923,"id":317050,"chapterId":23397,"imgUrl":"2d6433d3-e210-451c-838d-047ea871c4d6","order":0},{"createdAt":1719511923,"id":317051,"chapterId":23397,"imgUrl":"97111856-479d-4c15-9765-d4b4806e96cc","order":0},{"createdAt":1719511923,"id":317052,"chapterId":23397,"imgUrl":"d6a5f8cc-445c-4c9f-b7f9-20bc7dc83258","order":0},{"createdAt":1719511923,"id":317053,"chapterId":23397,"imgUrl":"a3fab8f0-a202-4745-b4ae-1a662a0e231c","order":0},{"createdAt":1719511923,"id":317054,"chapterId":23397,"imgUrl":"ec1b615b-fd06-4098-a2c7-49cf95f7cfac","order":0},{"createdAt":1719511923,"id":317055,"chapterId":23397,"imgUrl":"d8c2fbc3-c644-470a-b7f5-f143a3d79f65","order":0},{"createdAt":1719511923,"id":317056,"chapterId":23397,"imgUrl":"f126c8d8-62c5-432f-9897-1ac86093d566","order":0},{"createdAt":1719511923,"id":317057,"chapterId":23397,"imgUrl":"442219b0-2d5f-4d70-a5dd-1a6c5b8464a7","order":0},{"createdAt":1719511923,"id":317058,"chapterId":23397,"imgUrl":"2b256ad8-d85a-4148-820e-fc3e29fff336","order":0},{"createdAt":1719511923,"id":317059,"chapterId":23397,"imgUrl":"de74359b-e654-4984-a9b7-990a4b6c0082","order":0},{"createdAt":1719511923,"id":317060,"chapterId":23397,"imgUrl":"6395351b-95d6-4d7a-bee9-5aa01605ad81","order":0},{"createdAt":1719511923,"id":317061,"chapterId":23397,"imgUrl":"e6dd67cf-93ad-4ad7-ab48-c2c321e275a1","order":0},{"createdAt":1719511923,"id":317062,"chapterId":23397,"imgUrl":"2ce3ce49-eb50-417f-8f14-c9c6f94d0bde","order":0},{"createdAt":1719511923,"id":317063,"chapterId":23397,"imgUrl":"a6cc38d1-ae11-4b27-bc0b-a0bca7fb1ee7","order":0},{"createdAt":1719511923,"id":317064,"chapterId":23397,"imgUrl":"b23b5912-4794-4549-9f12-8ad8932e471f","order":0},{"createdAt":1719511923,"id":317065,"chapterId":23397,"imgUrl":"91d04c89-6029-4fcd-bfdf-7ca18cc2fcee","order":0},{"createdAt":1719511923,"id":317066,"chapterId":23397,"imgUrl":"baebb117-16d3-41b8-b9c5-9e07efb9f898","order":0},{"createdAt":1719511923,"id":317067,"chapterId":23397,"imgUrl":"f58f6d3a-4f4a-46c6-8d21-9b429eedf504","order":0},{"createdAt":1719511923,"id":317068,"chapterId":23397,"imgUrl":"b974276b-7f65-406e-888a-c77f9d26060a","order":0},{"createdAt":1719511923,"id":317069,"chapterId":23397,"imgUrl":"e2140f03-11f0-4085-95c7-ab584d4818f4","order":0},{"createdAt":1719511923,"id":317070,"chapterId":23397,"imgUrl":"97df18a2-1082-4c46-a134-208fd7037e29","order":0},{"createdAt":1719511923,"id":317071,"chapterId":23397,"imgUrl":"d3684c97-33dd-4793-9371-69e2dc9148c3","order":0},{"createdAt":1719511923,"id":317072,"chapterId":23397,"imgUrl":"a871503f-2f00-41f5-bb6c-96e0fb95b1d1","order":0},{"createdAt":1719511923,"id":317073,"chapterId":23397,"imgUrl":"ba532ec4-a56a-47ba-b24e-81367e0f5890","order":0},{"createdAt":1719511923,"id":317074,"chapterId":23397,"imgUrl":"6a681f2b-7a41-4683-8bc2-4aa2d5d3aad5","order":0},{"createdAt":1719511923,"id":317075,"chapterId":23397,"imgUrl":"f9f04d3d-5a28-4dab-b2ad-8c132eae8341","order":0},{"createdAt":1719511923,"id":317076,"chapterId":23397,"imgUrl":"f8b80dcd-244c-4bef-8ffe-4ed47fce9112","order":0},{"createdAt":1719511923,"id":317077,"chapterId":23397,"imgUrl":"c2cd5079-062b-493e-8002-1c39a31e0d35","order":0},{"createdAt":1719511923,"id":317078,"chapterId":23397,"imgUrl":"883d22a3-c563-4799-ac92-770325534a8d","order":0},{"createdAt":1719511923,"id":317079,"chapterId":23397,"imgUrl":"54c46f6e-8449-47f0-b305-d0222c3a24a0","order":0},{"createdAt":1719511923,"id":317080,"chapterId":23397,"imgUrl":"03a7ae74-7fb5-479a-9ba4-b8cefcdd03c8","order":0},{"createdAt":1719511923,"id":317081,"chapterId":23397,"imgUrl":"c16b8e27-e6f8-4b50-b30b-0893c95338b6","order":0},{"createdAt":1719511923,"id":317082,"chapterId":23397,"imgUrl":"450a1803-8099-4039-b8d8-71da826c9606","order":0},{"createdAt":1719511923,"id":317083,"chapterId":23397,"imgUrl":"39f1c4dc-4157-443a-96d3-faa37ab4c161","order":0},{"createdAt":1719511923,"id":317084,"chapterId":23397,"imgUrl":"be57d7a8-aa9a-4411-8c63-46cb4cc03481","order":0},{"createdAt":1719511923,"id":317085,"chapterId":23397,"imgUrl":"493c453a-4a31-4b55-a053-d90e67a75782","order":0},{"createdAt":1719511923,"id":317086,"chapterId":23397,"imgUrl":"c5975882-affe-402f-abcb-1b8d7ab4a8b9","order":0},{"createdAt":1719511923,"id":317087,"chapterId":23397,"imgUrl":"6be8ef53-5a49-485f-96f2-73de215d2ec4","order":0},{"createdAt":1719511923,"id":317088,"chapterId":23397,"imgUrl":"f4f11e62-9fc5-470e-ab43-3c0033a1a4bb","order":0},{"createdAt":1719511923,"id":317089,"chapterId":23397,"imgUrl":"acc0e73b-ecd6-452c-866c-9aab4b8cb159","order":0},{"createdAt":1719511923,"id":317090,"chapterId":23397,"imgUrl":"0625012c-2ab2-4d9d-9378-482d45c63835","order":0},{"createdAt":1719511923,"id":317091,"chapterId":23397,"imgUrl":"868f01ee-7990-41b8-b049-6765f5c7d0b8","order":0},{"createdAt":1719511923,"id":317092,"chapterId":23397,"imgUrl":"40ecdf41-a64a-4e8e-a19b-a63263de5c1f","order":0},{"createdAt":1719511923,"id":317093,"chapterId":23397,"imgUrl":"2f962f9f-b38c-4398-94b7-3f0f069a24d6","order":0},{"createdAt":1719511923,"id":317094,"chapterId":23397,"imgUrl":"3a61b427-0814-4321-a236-4f677adbae86","order":0},{"createdAt":1719511923,"id":317095,"chapterId":23397,"imgUrl":"c7be8868-cb87-4f14-950f-00fe0595e85b","order":0},{"createdAt":1719511923,"id":317096,"chapterId":23397,"imgUrl":"49ecf783-29b2-46aa-b4e6-9d4080d68395","order":0},{"createdAt":1719511923,"id":317097,"chapterId":23397,"imgUrl":"5200f61c-9b6d-4c19-8b1e-7ce86c0d274b","order":0},{"createdAt":1719511923,"id":317098,"chapterId":23397,"imgUrl":"56d565f0-ef73-4eda-8c2c-87494d7db2c1","order":0},{"createdAt":1719511923,"id":317099,"chapterId":23397,"imgUrl":"f3558226-2054-48e8-9aed-beb2e0ecc4ca","order":0},{"createdAt":1719511923,"id":317100,"chapterId":23397,"imgUrl":"298deab6-2fab-4b15-b708-4ca251a1e552","order":0},{"createdAt":1719511923,"id":317101,"chapterId":23397,"imgUrl":"851c4070-0c24-43f7-8cf9-b4071057330b","order":0},{"createdAt":1719511923,"id":317102,"chapterId":23397,"imgUrl":"c0a95dd8-9304-48ae-a0d5-e2b377ae0282","order":0},{"createdAt":1719511923,"id":317103,"chapterId":23397,"imgUrl":"033abc47-b39a-4bd5-bc5b-a04401baf7e0","order":0},{"createdAt":1719511923,"id":317104,"chapterId":23397,"imgUrl":"d665e2cc-72eb-4622-9443-f7183d6d95f3","order":0},{"createdAt":1719511923,"id":317105,"chapterId":23397,"imgUrl":"2a23a454-35a4-4380-ba24-a0842d7f056c","order":0},{"createdAt":1719511923,"id":317106,"chapterId":23397,"imgUrl":"7549974b-fc84-4480-a4e7-61e5e2d473f3","order":0},{"createdAt":1719511923,"id":317107,"chapterId":23397,"imgUrl":"c543dcbe-9ffc-4d9a-8fff-af0ca9a7fce8","order":0}]

def write_image_data(imgId):
    result = requests.get(f'https://zenko.online/api/proxy?url=https://zenko.b-cdn.net/{imgId}?optimizer=image&width=auto&quality=60&height=auto')
    with open('temp/' + imgId + '.png', 'wb+') as file:
        print('Writing page data for imgId ' + imgId)
        file.write(result.content)


def save_images():
    result = []
    for image_data in images_data:
        result.append(image_data['imgUrl'])
        write_image_data(image_data['imgUrl'])
    return result

# save_images()
def save_to_pdf(filename, image_files: []):
    images = [
    Image.open('temp/'+ f + '.png').convert('RGB')
    for f in image_files
    ]

    pdf_path = f"result/{filename}"
    
    images[0].save(
        pdf_path, "PDF" ,resolution=100.0, save_all=True, append_images=images[1:]
    )

print('Starting...')
images = save_images()
print('Saving to pdf...')
save_to_pdf('lookback.pdf', images)
print('Done')